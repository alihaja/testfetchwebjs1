<!DOCTYPE html>
<html>
<body>

<h2>Get the current URL</h2>

<p id="demo"></p>

<script>
   
   let loc = new URL('http://example.com/?firstname=tes&lastname=demo');
	let url = window.location.href;
function getUrlVars() {
 
    var vars = {};
    var parts = url.replace(/[?&]+([^=&]+)=([^&]*)/gi,    
    function(m,key,value) {
      vars[key] = value;
    });
    return vars;
  }
  
  var GetParameters = function (url) {
    var splitParametersFromUrl = url.split('?');
    var spliteParameters = splitParametersFromUrl[1].split('&');

    var param = function (name, value) {
        this.Name = name,
            this.Value = value
    }
    var resualt = new Array();
    for (var i = 0; i < spliteParameters.length; i++) {
        var item = spliteParameters[i].split('=');
        var itemParam = new param(item[0], item[1]);
        resualt.push(itemParam);
    }

    return resualt;
}
  

const paramsString = window.location.search;
const searchParams = new URLSearchParams(paramsString);
var params = getUrlVars();

var resualt = GetParameters(url);

document.getElementById("demo").innerHTML = 
"The full URL of this page is:<br>" + resualt[1]["Value"];
//params["firstname"];
</script>

</body>
</html>
